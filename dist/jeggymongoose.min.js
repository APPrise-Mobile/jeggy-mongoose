function _classCallCheck(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}function _inherits(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Super expression must either be null or a function, not "+typeof o);e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),o&&(e.__proto__=o)}var _createClass=function(){function e(e,o){for(var t=0;t<o.length;t++){var n=o[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(o,t,n){return t&&e(o.prototype,t),n&&e(o,n),o}}(),_get=function(e,o,t){for(var n=!0;n;){var r=e,i=o,c=t;l=u=s=void 0,n=!1,null===r&&(r=Function.prototype);var l=Object.getOwnPropertyDescriptor(r,i);if(void 0!==l){if("value"in l)return l.value;var s=l.get;return void 0===s?void 0:s.call(c)}var u=Object.getPrototypeOf(r);if(null===u)return void 0;e=u,o=i,t=c,n=!0}};!function(e,o){"object"==typeof exports&&"undefined"!=typeof module?o(exports,require("jeggy"),require("mongoose-mob"),require("lodash")):"function"==typeof define&&define.amd?define(["exports","jeggy","mongoose-mob","lodash"],o):o(e.jeggymongoose={},e.jeggy,e.mongooseMob,e._)}(this,function(e,o,t,n){"use strict";t="default"in t?t["default"]:t,n="default"in n?n["default"]:n;var r=function(e){function o(e,t){if(_classCallCheck(this,o),_get(Object.getPrototypeOf(o.prototype),"constructor",this).call(this,e),!t)throw new Error("a MongooseCollection must be intiialized with a mongoose model");this.mongooseModel=t}return _inherits(o,e),_createClass(o,[{key:"find",value:function(e){return this.mongooseModel.find(e).exec()}},{key:"findOne",value:function(e){return this.mongooseModel.findOne(e).exec()}},{key:"findById",value:function(e){return this.mongooseModel.findById(e).exec()}},{key:"create",value:function(e){return this.mongooseModel.create(e)}},{key:"removeWhere",value:function(e){return this.mongooseModel.remove(e)}},{key:"remove",value:function(e){return this.mongooseModel.findById(e._id).exec().then(function(o){if(!o)throw new Error("trying to remove doc that does not exist id:"+e._id);return o.remove()})}},{key:"update",value:function(e){return this.mongooseModel.findById(e._id).exec().then(function(o){if(!o)throw new Error("trying to update doc that does not exist id:"+e._id);return o.merge(e),o.save()})}}]),o}(o.Collection),i=function(e){function o(e){_classCallCheck(this,o),_get(Object.getPrototypeOf(o.prototype),"constructor",this).call(this),n.isString(e)&&(e=t.getConnection(e)),this.mongooseConnection=e,this.collections={}}return _inherits(o,e),_createClass(o,[{key:"addCollection",value:function(e,o){var i=void 0;if(e instanceof r)i=e,e=i.name;else{if(!n.isString(e)||n.isEmpty(e))throw new Error("must provide a name when adding a collection");var c=t.getModel(this.mongooseConnection,e,o);i=new r(e,c)}this.collections[e]=i}},{key:"getCollection",value:function(e){if(!this.collections[e])throw new Error("unknown collection: "+e);return this.collections[e]}},{key:"getCollections",value:function(){return this.collections}}]),o}(o.Adapter);e.MongooseAdapter=i});
//# sourceMappingURL=jeggymongoose.min.js.map